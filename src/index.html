<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Competency Based Task</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">
</head>
<body>

<main>

    <header>
        <div class="container fixed-width text-center">
            <h1>Competency based tasks</h1>
        </div>
    </header>
    <!--

    ACCORDION
    Used handlebars as even though I am more familiar with ReactJS it seemed to be an overkill for such a small task

    -->
    <div class="container fixed-width">
        <script id="accordion_hb" type="text/x-handlebars-template">​
            <h2>Task 1: Accordion</h2>
            <p>
                Below is an example of an accordion displaying all the beers available at
                <a href="https://api.punkapi.com/v2/beers" target="_blank">https://api.punkapi.com/v2/beers</a>. When
                clicked or tapped Each
                beer section expands to reveal more sections, which in turn reveal the tagline, brewing date,
                description and food pairing of each beer.
            </p>

            <div class="accordion">
                <ul>
                    {{#each beers}}
                    <li>
                        <a href="#" onclick="Accordion.onClickToggleDropdown(event, this)"
                           class="trigger">{{this.name}}</a>
                        <ul class="dropdown">
                            <li>
                                <a href="#" onclick="Accordion.onClickToggleDropdown(event, this)"
                                   class="trigger">Tagline</a>
                                <ul class="dropdown">
                                    <li class="content">
                                        <p>{{this.tagline}}</p>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#" onclick="Accordion.onClickToggleDropdown(event, this)"
                                   class="trigger">First Brewed</a>
                                <ul class="dropdown">
                                    <li class="content">
                                        <p>{{this.first_brewed}}</p>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#" onclick="Accordion.onClickToggleDropdown(event, this)"
                                   class="trigger">Description</a>
                                <ul class="dropdown">
                                    <li class="content">
                                        <p>{{this.description}}</p>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#" onclick="Accordion.onClickToggleDropdown(event, this)"
                                   class="trigger">Food Pairing</a>
                                <ul class="dropdown">
                                    <li class="content">
                                        <ul>
                                            {{#each this.food_pairing}}
                                            <li>
                                                {{this}}
                                            </li>
                                            {{/each}}
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    {{/each}}
                </ul>
            </div>
        </script>

        <div id="accordion">
            <!-- Dynamic content rendered here -->
            <div class="placeholder">
            <span>
                Loading accordion...
            </span>
            </div>
            <!-- ./ Dynamic content rendered here -->
        </div>
    </div>
    <!-- ./ACCORDION -->

    <!--

    CAROUSELS

    Unable to load dynamic content as there was some issue preventing me from dynamically initialising the plugin from
    JS files.

    -->
    <div class="container fixed-width">
        <h2>Task 2: Carousel</h2>
        <p>
            I have created two carousels below. The first one displays text using fade transitions and the other uses an
            image slider with each image being lazy loaded. Sadly, I experienced an unknown issue with the Cycle 2
            plugin which prevented me from initialising it dynamically. Therefore, I've just populated it with with
            dummy data and images.
        </p>
        <div class="carousel">
            <div class="flex-wrapper">
                <!-- Carousel 1 -->
                <div class="cycle-slideshow"
                     data-cycle-timeout="4000"
                     data-cycle-speed="1000"
                     data-cycle-fx="fade"
                     data-cycle-log="false"
                     data-cycle-slides="> div"
                >
                    <div class="text-slide">
                        <div class="inner">
                            <h3>Slide 1</h3>
                            <p>
                                A deliciously robust, black malted beer with a decadent dark, dry cocoa flavour that
                                provides an enticing backdrop to the Cascade hops.
                            </p>
                        </div>
                    </div>
                    <div class="text-slide">
                        <div class="inner">
                            <h3>Slide 2</h3>
                            <p>
                                2008 Prototype beer, a 4.7% wheat ale with crushed juniper berries and citrus peel.
                            </p>
                        </div>
                    </div>
                    <div class="text-slide">
                        <div class="inner">
                            <h3>Slide 3</h3>
                            <p>
                                Our sixth Abstrakt, this imperial black IPA combined dark malts with a monumental triple
                                dry-hop, using an all-star team of some of our favourite American hops. Roasty and
                                resinous.
                            </p>
                        </div>
                    </div>
                    <div class="text-slide">
                        <div class="inner">
                            <h3>Slide 4</h3>
                            <p>
                                A fusion of caramel malt flavours and punchy New Zealand hops. A session beer you can
                                get your teeth into.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- ./Carousel 1 -->

                <!-- Carousel 2 -->
                <div class="cycle-slideshow auto"
                     data-cycle-fx=scrollHorz
                     data-cycle-timeout=2000
                     data-cycle-easing="linear"
                     data-cycle-loader=true
                     data-cycle-progressive="#images"
                     data-cycle-log="false"
                >
                    <img class="img-slide" alt="Image 1" src="./image/2.png" width="100" height="389">
                    <script id="images" type="text/cycle">
                    <img class="img-slide" alt="Image 2" src="./image/4.png" width="100" height="390">
                    <img class="img-slide" alt="Image 3" src="./image/5.png" width="100" height="390">
                    <img class="img-slide" alt="Image 4" src="./image/6.png" width="100" height="389">
                    <img class="img-slide" alt="Image 5" src="./image/7.png" width="100" height="381">
                    <img class="img-slide" alt="Image 6" src="./image/8.png"  width="100" height="390">
                    <img class="img-slide" alt="Image 7" src="./image/keg.png" width="101" height="199">
                    </script>

                </div>
                <!-- ./Carousel 2 -->
            </div>
        </div>
    </div>
    <!-- ./Carousels -->

    <!--

    CTA grid

    -->

    <div class="container fixed-width">
        <h2>Task 3: CTA Grid</h2>
        <p>
            Below is the CTA grid displaying all the beers from the API. Changing the ABV filter changes the order
            between ascending and descending. Each image is lazy loaded as they are very large and will otherwise
            slow down the loading of the page.
        </p>
        <div class="abv-filter">
            <label for="abv_filter">Abv filter:&nbsp;</label>
            <select name="abv_filter" id="abv_filter" onchange="GridCTA.onChangeABVFilter(event)">
                <option disabled selected>
                    - select -
                </option>
                <option value="high_to_low">
                    High to low
                </option>
                <option value="low_to_high">
                    Low to high
                </option>
            </select>
        </div>
    </div>

    <script id="grid_cta_hb" type="text/x-handlebars-template">​
        <div class="grid-cta">
            <div class="flex-wrapper">
                {{#each beers}}
                <figure>
                    <img data-original="{{{this.image_url}}}" alt="{{{this.name}}}" width="272" height="1058"
                         src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="/>
                    <figcaption>
                        <h3>{{this.name}}</h3>
                        <h4>{{this.tagline}}</h4>
                        <h5>Abv: {{this.abv}}</h5>
                        <p>{{this.description}}</p>
                    </figcaption>
                </figure>
                {{/each}}
            </div>
        </div>
    </script>

    <div id="grid_cta">
        <!-- Dynamic content rendered here -->
        <div class="placeholder">
            <span>
                Loading CTA grid...
            </span>
        </div>
        <!-- ./ Dynamic content rendered here -->
    </div>
    <!-- ./CTA grid -->



    <footer>
        <div class="container fixed-width text-center">
            <p>Lewis James-Odwin,&nbsp;
                <script>var date = new Date();
                document.write(date.getFullYear())</script>
            </p>
        </div>
    </footer>
</main>

<!-- build:js -->
<script src="bundle.js"></script>
<!-- endbuild -->

</body>
</html>